# iron_concentrate

Функциональные требования к системе:
- Многопользовательская архитектура - реализована с помошью djoser.
- Поддержка авторизации - через токен.
- Форма внесения данных должна представлять собой таблицу со следующими полями: - вносятся через json
  - Наименование сырья, содержание железа, и.т.д. прочие показатели.
- Должен быть переключатель для выбора месяца - переключатель есть.
- Форма для вноса данных должна поддерживать копирование\вставку из Excel - метод принимает файл excel
- Форма отчета должна выводить среднее, минимальное и максимальные значения по всем концентратам за выбранный месяц. - реализовано

##### Иструкция по запуску на локальной машине:
- git clone https://github.com/Hawool/iron_concentrate.git
- cd iron_concentrate
- docker-compose up -d --build
- docker-compose exec api python manage.py migrate --noinput

Затем можно открыть в браузере http://0.0.0.0:8000/

Автодокументация http://0.0.0.0:8000/swagger/

### Методы
#### Метод создания концентрата:
POST http://0.0.0.0:8000/api/v1/iron_concentrate

{
    "name": "name_5",
    "iron": 54.455,
    "silicon": 3,
    "aluminum": 52,
    "calcium": 54,
    "sulfur": 12.345,
    "month": 4
}

Или отправить один файл excel c названиями колонок в качестве полей модели(таблицы):
{'file_excel': file.xlsx}

#### Метод просмотра всех:
GET http://0.0.0.0:8000/api/v1/iron_concentrate

#### Метод получения среднего, максимального и минимального значения за месяц:
POST http://0.0.0.0:8000/api/v1/iron_concentrate/middle
{
    "month": 4
}

#### Создание юзера:
POST http://0.0.0.0:8000/auth/users/
{
    "username": "bob",
    "password": "Qwerty123"
}

#### Получение токена доступа:
POST http://0.0.0.0:8000/auth/token/login/
{
    "username": "bob",
    "password": "Qwerty123"
}